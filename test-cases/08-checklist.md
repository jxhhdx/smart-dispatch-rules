# 测试盲点检查清单

> Test Blind Spot Checklist - 确保测试全面覆盖

---

## 使用说明

本清单用于：
1. 审查已有测试的覆盖度
2. 发现遗漏的测试场景
3. 作为测试计划制定的参考
4. Bug回归测试时的参考

**检查方式:** 对每项进行检查，确保有对应的测试用例覆盖。

---

## 1. 输入维度检查

### 1.1 空值与未定义

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| Null 值 | ⬜ | AUTH-E-01, USER-E-01 | |
| Undefined 值 | ⬜ | AUTH-E-02 | |
| NaN / Infinity | ⬜ | | 数值字段 |
| 空对象 `{}` | ⬜ | AUTH-E-09 | |
| 空数组 `[]` | ⬜ | ROLE-B-10 | |

### 1.2 字符串边界

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 空字符串 `""` | ⬜ | AUTH-B-01, USER-B-04 | |
| 仅空白字符 `"   "` | ⬜ | AUTH-B-07 | |
| 换行/制表符 | ⬜ | | |
| Unicode 字符 | ⬜ | AUTH-B-06 | 中文、emoji、阿拉伯文 |
| 超长字符串 | ⬜ | AUTH-B-04 | 1000+ 字符 |
| HTML 标签 | ⬜ | USER-S-03 | XSS 测试 |
| SQL 注入 | ⬜ | AUTH-S-01 | |

### 1.3 数值边界

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 0 | ⬜ | RULE-B-20 | |
| -1 / 负数 | ⬜ | USER-B-31, RULE-B-21 | |
| 极大值 | ⬜ | RULE-B-22 | MAX_INT |
| 极小值 | ⬜ | | MIN_INT |
| 小数 | ⬜ | RULE-B-23 | |
| 科学计数法 | ⬜ | | 1e10 |

### 1.4 类型错误

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 数字代替字符串 | ⬜ | AUTH-E-03 | |
| 字符串代替数字 | ⬜ | | |
| 对象代替数组 | ⬜ | AUTH-E-05 | |
| 数组代替对象 | ⬜ | | |
| Boolean 代替其他 | ⬜ | | |

---

## 2. 状态维度检查

### 2.1 状态机

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 初始状态 | ⬜ | | 新建记录 |
| 中间状态 | ⬜ | | 处理中 |
| 终态 | ⬜ | | 已完成/已取消 |
| 无效状态转换 | ⬜ | RULE-E-10 | 已发布→已发布 |
| 状态回滚 | ⬜ | RULE-F-13 | 版本回滚 |

### 2.2 生命周期

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 创建后立即读取 | ⬜ | | 数据一致性 |
| 更新后立即读取 | ⬜ | | 缓存一致性 |
| 删除后读取 | ⬜ | USER-E-20 | 404 |
| 删除后更新 | ⬜ | USER-E-21 | 404 |

---

## 3. 时间维度检查

### 3.1 时间边界

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 23:59:59 | ⬜ | | 日期边界 |
| 00:00:00 | ⬜ | | 日期边界 |
| 跨天操作 | ⬜ | | |
| 跨月操作 | ⬜ | | 月末月初 |
| 跨年操作 | ⬜ | | 年末年初 |
| 闰年2月29日 | ⬜ | | |
| 时区切换 | ⬜ | | 夏令时 |

### 3.2 超时场景

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 请求超时 | ⬜ | AUTH-E-20 | 数据库超时 |
| Token 过期 | ⬜ | AUTH-F-10 | |
| 会话过期 | ⬜ | | |
| 长时操作 | ⬜ | | 导出报表 |

---

## 4. 并发维度检查

### 4.1 竞态条件

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 重复提交 | ⬜ | AUTH-E-30 | 表单双点 |
| 并发修改同一资源 | ⬜ | USER-E-31 | 乐观锁 |
| 读取时删除 | ⬜ | USER-E-32 | |
| 并发创建唯一字段 | ⬜ | USER-E-30 | 用户名重复 |

### 4.2 资源竞争

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 数据库连接池耗尽 | ⬜ | | |
| 文件句柄耗尽 | ⬜ | | |
| 内存不足 | ⬜ | AUTH-E-14 | |
| 磁盘满 | ⬜ | AUTH-E-13 | |

### 4.3 分布式场景

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 分布式锁 | ⬜ | | |
| 缓存一致性 | ⬜ | | |
| 消息重复消费 | ⬜ | | |
| 时钟不同步 | ⬜ | | |

---

## 5. 依赖维度检查

### 5.1 依赖服务故障

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 数据库断开 | ⬜ | AUTH-E-21 | |
| 数据库超时 | ⬜ | AUTH-E-20 | |
| Redis 故障 | ⬜ | AUTH-E-23 | 降级 |
| 第三方API失败 | ⬜ | AUTH-E-12 | |
| 邮件服务故障 | ⬜ | | |

### 5.2 网络异常

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 网络中断 | ⬜ | WEB-E-03 | |
| 网络抖动 | ⬜ | | |
| 高延迟 | ⬜ | | |
| 丢包 | ⬜ | | |

### 5.3 异常响应

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 500 服务器错误 | ⬜ | WEB-E-04 | |
| 502 Bad Gateway | ⬜ | | |
| 503 Service Unavailable | ⬜ | | |
| 504 Gateway Timeout | ⬜ | | |
| 异常数据格式 | ⬜ | | |

---

## 6. 安全维度检查

### 6.1 注入攻击

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| SQL 注入 | ⬜ | AUTH-S-01 | |
| NoSQL 注入 | ⬜ | AUTH-S-03 | |
| 命令注入 | ⬜ | | |
| LDAP 注入 | ⬜ | | |
| XPath 注入 | ⬜ | | |
| XML 注入 | ⬜ | | |

### 6.2 XSS 攻击

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 存储型 XSS | ⬜ | USER-S-03 | |
| 反射型 XSS | ⬜ | | |
| DOM 型 XSS | ⬜ | | |
| 富文本 XSS | ⬜ | | |

### 6.3 越权访问

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 水平越权 | ⬜ | USER-S-05 | 同级用户 |
| 垂直越权 | ⬜ | USER-S-06 | 普通→管理员 |
| 未授权访问 | ⬜ | AUTH-F-12 | 无Token |
| IDOR | ⬜ | | 遍历ID |

### 6.4 其他攻击

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| CSRF | ⬜ | AUTH-S-06 | |
| SSRF | ⬜ | | 服务端请求伪造 |
| 暴力破解 | ⬜ | AUTH-S-05 | |
| 点击劫持 | ⬜ | | |
| 文件上传漏洞 | ⬜ | | |
| 路径遍历 | ⬜ | AUTH-S-03 | ../../../ |

---

## 7. 性能维度检查

### 7.1 响应时间

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 冷启动 | ⬜ | | 首次请求 |
| 热请求 | ⬜ | AUTH-P-01 | < 200ms |
| 大数据查询 | ⬜ | USER-P-06 | 100万条 |
| 复杂计算 | ⬜ | | |

### 7.2 并发性能

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 100 并发 | ⬜ | AUTH-P-04 | |
| 1000 并发 | ⬜ | AUTH-E-32 | |
| 渐变负载 | ⬜ | | 逐步加压 |
| 峰值负载 | ⬜ | | |

### 7.3 资源使用

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 内存泄漏 | ⬜ | AUTH-P-05 | |
| CPU 使用率 | ⬜ | | |
| 磁盘 I/O | ⬜ | | |
| 网络带宽 | ⬜ | | |

---

## 8. 兼容性检查

### 8.1 浏览器兼容

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| Chrome | ⬜ | | |
| Firefox | ⬜ | | |
| Safari | ⬜ | | |
| Edge | ⬜ | | |
| IE 11 | ⬜ | | 如支持 |
| 移动端浏览器 | ⬜ | | |

### 8.2 设备兼容

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 桌面端 | ⬜ | | |
| 平板 | ⬜ | | |
| 手机 | ⬜ | | |
| 不同分辨率 | ⬜ | LAY-F-05 | |

---

## 9. 新功能检查 (规则增强功能)

### 9.1 规则状态管理

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| Switch组件状态切换 | ⬜ | RS-F-03 | 即时生效 |
| Action按钮状态操作 | ⬜ | RS-F-04~05 | 启用/禁用按钮 |
| 批量状态操作 | ⬜ | RS-F-06~07 | 多选后批量 |
| 状态变更后自动刷新 | ⬜ | RS-F-08 | 列表同步 |
| 状态操作日志记录 | ⬜ | RS-F-09 | 审计追踪 |
| 无效状态值处理 | ⬜ | RS-B-01~02 | 参数校验 |
| 状态幂等性 | ⬜ | RS-B-04~05 | 重复操作 |
| 无权限状态修改 | ⬜ | RS-E-02 | 越权防护 |

### 9.2 规则复制功能

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 单条规则复制 | ⬜ | COPY-F-01 | 基础功能 |
| Copy后缀自动添加 | ⬜ | COPY-F-02 | 命名规范 |
| 多次复制后缀递增 | ⬜ | COPY-F-06 | Copy 2, 3... |
| 版本完整复制 | ⬜ | COPY-F-03 | 所有历史版本 |
| 条件配置复制 | ⬜ | COPY-F-04 | 条件树完整 |
| 复制后跳转编辑页 | ⬜ | COPY-F-05 | 用户体验 |
| 复制不影响原规则 | ⬜ | COPY-F-08 | 数据隔离 |
| 超长名称复制 | ⬜ | COPY-B-01 | 边界处理 |
| 复制权限控制 | ⬜ | COPY-E-03 | 创建权限 |
| 复制失败事务回滚 | ⬜ | COPY-E-02 | 数据一致性 |

### 9.3 规则导出功能

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| 单条规则导出JSON | ⬜ | EXP-F-01 | 基础功能 |
| 批量规则导出JSON | ⬜ | EXP-F-02 | 多选导出 |
| CSV格式导出 | ⬜ | EXP-F-03 | 表格格式 |
| 文件名时间戳 | ⬜ | EXP-F-04 | 防覆盖 |
| 版本信息包含 | ⬜ | EXP-F-05 | 完整数据 |
| 条件配置包含 | ⬜ | EXP-F-06 | 可恢复 |
| 筛选后导出 | ⬜ | EXP-F-08 | 按条件 |
| 选中项导出 | ⬜ | EXP-F-09 | 精准导出 |
| 空列表导出 | ⬜ | EXP-B-01 | 边界处理 |
| CSV特殊字符转义 | ⬜ | EXP-B-04 | 逗号、换行 |
| 文件名注入防护 | ⬜ | EXP-S-01 | 路径遍历 |
| CSV注入防护 | ⬜ | EXP-S-02 | =+-@前缀 |
| 导出权限控制 | ⬜ | EXP-E-03 | 查看权限 |
| 大数据量导出 | ⬜ | EXP-B-02 | 流式处理 |

### 9.4 增强规则编辑

| 检查项 | 状态 | 对应用例 | 备注 |
|-------|------|---------|------|
| **骑手维度** | | | |
| 骑手ID过滤 | ⬜ | EDIT-F-01 | eq, in |
| 骑手等级过滤 | ⬜ | EDIT-F-02 | 数值比较 |
| 骑手评分过滤 | ⬜ | EDIT-F-03 | between |
| 当前订单数过滤 | ⬜ | EDIT-F-04 | activeOrders |
| 完成率过滤 | ⬜ | EDIT-F-05 | completionRate |
| **商家维度** | | | |
| 商家ID过滤 | ⬜ | EDIT-F-10 | |
| 商家类型过滤 | ⬜ | EDIT-F-11 | 枚举 |
| VIP状态过滤 | ⬜ | EDIT-F-14 | 布尔 |
| **订单维度** | | | |
| 订单金额过滤 | ⬜ | EDIT-F-20 | between |
| 配送距离过滤 | ⬜ | EDIT-F-21 | 核心字段 |
| 紧急度过滤 | ⬜ | EDIT-F-25 | urgency |
| 时间窗口过滤 | ⬜ | EDIT-F-26 | timeWindow |
| **时间维度** | | | |
| 小时过滤 | ⬜ | EDIT-F-30 | 0-23 |
| 星期过滤 | ⬜ | EDIT-F-31 | 1-7 |
| 节假日过滤 | ⬜ | EDIT-F-32 | isHoliday |
| **地理维度** | | | |
| 区域过滤 | ⬜ | EDIT-F-40 | district |
| 商圈过滤 | ⬜ | EDIT-F-41 | businessZone |
| **条件操作符** | | | |
| 比较操作符 | ⬜ | EDIT-F-50~56 | eq/ne/gt/gte/lt/lte |
| 范围操作符 | ⬜ | EDIT-F-56 | between |
| 包含操作符 | ⬜ | EDIT-F-57 | in |
| 模糊匹配 | ⬜ | EDIT-F-58 | contains |
| 空值检查 | ⬜ | EDIT-F-62~63 | isNull/isNotNull |
| **嵌套条件组** | | | |
| AND组 | ⬜ | EDIT-F-70 | 逻辑与 |
| OR组 | ⬜ | EDIT-F-71 | 逻辑或 |
| 嵌套AND-OR | ⬜ | EDIT-F-72 | 混合逻辑 |
| 多层嵌套 | ⬜ | EDIT-F-73 | 3层+ |
| **可视化编辑器** | | | |
| 添加/删除条件 | ⬜ | EDIT-F-80~81 | 基础操作 |
| 添加条件组 | ⬜ | EDIT-F-82 | 分组功能 |
| 切换逻辑类型 | ⬜ | EDIT-F-84 | AND↔OR |
| 快速/高级模式 | ⬜ | EDIT-F-85~86 | 模式切换 |
| 条件验证提示 | ⬜ | EDIT-F-89 | 错误高亮 |
| 字段选择器 | ⬜ | EDIT-F-90 | 分类展示 |
| 操作符联动 | ⬜ | EDIT-F-91 | 根据字段类型 |
| 值类型校验 | ⬜ | EDIT-F-92 | 实时校验 |
| **可扩展设计** | | | |
| 动态字段注册 | ⬜ | EDIT-F-100 | 插件化 |
| 自定义字段类型 | ⬜ | EDIT-F-101 | 扩展 |
| 插件式操作符 | ⬜ | EDIT-F-102 | 扩展 |
| **边界与安全** | | | |
| 最大条件数限制 | ⬜ | EDIT-B-01 | 性能保护 |
| 最大嵌套层级 | ⬜ | EDIT-B-02 | 防栈溢出 |
| 无效字段校验 | ⬜ | EDIT-B-03 | 白名单 |
| 无效操作符校验 | ⬜ | EDIT-B-04 | 校验 |
| 值类型不匹配 | ⬜ | EDIT-B-05 | 强类型 |
| 循环引用检测 | ⬜ | EDIT-B-08 | 防死循环 |
| 条件注入防护 | ⬜ | EDIT-S-02 | NoSQL注入 |
| 递归攻击防护 | ⬜ | EDIT-S-03 | 层级限制 |

---

## 10. 覆盖率统计

### 按维度统计

| 维度 | 总检查项 | 已覆盖 | 覆盖率 |
|-----|---------|-------|-------|
| 输入维度 | 20 | __ | __% |
| 状态维度 | 7 | __ | __% |
| 时间维度 | 10 | __ | __% |
| 并发维度 | 10 | __ | __% |
| 依赖维度 | 12 | __ | __% |
| 安全维度 | 18 | __ | __% |
| 性能维度 | 10 | __ | __% |
| 兼容性 | 10 | __ | __% |
| 规则增强 | 50 | __ | __% |
| **合计** | **147** | **__** | **__%** |

---

## 10. 测试用例补充记录

| 发现日期 | 盲点描述 | 补充用例ID | 执行人 |
|---------|---------|-----------|-------|
| 2024-02-12 | 新增规则状态管理功能 | RS-F-01~09, RS-B-01~05, RS-E-01~04 | - |
| 2024-02-12 | 新增规则复制功能 | COPY-F-01~08, COPY-B-01~05, COPY-E-01~04 | - |
| 2024-02-12 | 新增规则导出功能 | EXP-F-01~09, EXP-B-01~05, EXP-E-01~05, EXP-S-01~04 | - |
| 2024-02-12 | 新增增强规则编辑 | EDIT-F-01~104, EDIT-B-01~10, EDIT-E-01~06, EDIT-P-01~05, EDIT-S-01~05 | - |

---

*文档结束 - 共147个检查项*
