# 测试用例文档目录

> 智能派单规则管理系统 - 完整测试用例集合

---

## 📁 文件结构

```
test-cases/
├── README.md              # 本文件 - 索引和使用指南
├── 00-overview.md         # 概览与统计
├── 01-auth.md             # 认证模块测试用例
├── 02-users.md            # 用户管理测试用例
├── 03-roles.md            # 角色管理测试用例
├── 04-rules.md            # 规则管理测试用例
├── 05-logs.md             # 日志管理测试用例
├── 06-frontend.md         # 前端页面测试用例
├── 07-e2e.md              # 端到端测试用例
├── 08-checklist.md        # 测试盲点检查清单
└── 09-rule-enhancements.md # 规则增强功能测试用例 (NEW)
```

---

## 📊 测试用例统计

| 模块 | 文件 | 用例数 | P0 | P1 | P2 |
|-----|------|-------|----|----|-----|
| 概览 | 00-overview.md | - | - | - | - |
| 认证模块 | 01-auth.md | 32 | 12 | 12 | 8 |
| 用户管理 | 02-users.md | 42 | 16 | 16 | 10 |
| 角色管理 | 03-roles.md | 38 | 14 | 14 | 10 |
| 规则管理 | 04-rules.md | 56 | 20 | 20 | 16 |
| 日志管理 | 05-logs.md | 28 | 10 | 10 | 8 |
| 前端页面 | 06-frontend.md | 48 | 18 | 18 | 12 |
| 端到端 | 07-e2e.md | 12 | 8 | 4 | 0 |
| 检查清单 | 08-checklist.md | - | - | - | - |
| **规则增强** | **09-rule-enhancements.md** | **113** | **24** | **28** | **61** |
| **合计** | - | **369** | **122** | **122** | **125** |

---

## 🎯 优先级说明

| 优先级 | 说明 | 执行阶段 | 示例 |
|-------|------|---------|------|
| **P0** | 必须测试 - 核心功能、安全基础 | 第一阶段 | 登录成功/失败、越权访问 |
| **P1** | 重要测试 - 边界值、异常处理 | 第二阶段 | 分页边界、数据库异常 |
| **P2** | 补充测试 - 性能、深度安全 | 第三阶段 | 并发压力、SQL注入变种 |

---

## 🚀 快速开始

### 1. 查看概览
先阅读 [00-overview.md](./00-overview.md) 了解整体测试策略和覆盖范围。

### 2. 选择模块
根据你正在开发/测试的功能，选择对应的模块文件：

```bash
# 如果是测试登录功能
cat test-cases/01-auth.md

# 如果是测试用户CRUD
cat test-cases/02-users.md

# 如果是测试规则版本管理
cat test-cases/04-rules.md
```

### 3. 执行顺序
建议按以下顺序执行测试：

```
阶段1: P0 用例 → 确保核心功能正常
阶段2: P1 用例 → 补充边界和异常
阶段3: P2 用例 → 性能和深度安全
```

### 4. 检查盲点
使用 [08-checklist.md](./08-checklist.md) 确保没有遗漏重要的测试场景。

---

## 📝 FBEPS 测试模型

所有测试用例按照 **FBEPS** 模型分类：

| 维度 | 标识 | 占比 | 说明 |
|-----|------|-----|------|
| **F**unctional | F-XX | 40% | 功能路径测试（Happy Path + 异常流程） |
| **B**oundary | B-XX | 25% | 边界值测试（数值/字符串/集合边界） |
| **E**xception | E-XX | 20% | 异常/错误测试（输入/依赖/并发异常） |
| **P**erformance | P-XX | 10% | 性能/压力测试 |
| **S**ecurity | S-XX | 5% | 安全测试 |

---

## 🔧 与已有测试的整合

项目已有测试文件位置：

```
apps/api/test/           # 后端单元测试
├── unit/
│   ├── auth/
│   ├── users/
│   ├── roles/
│   └── rules/
└── e2e/                 # 后端 E2E 测试

apps/web/src/            # 前端测试
├── pages/*.test.tsx     # 页面测试
├── components/*.test.tsx # 组件测试
└── stores/*.test.ts     # 状态管理测试

e2e/tests/               # Playwright E2E 测试
├── login.spec.ts
├── users.spec.ts
└── ...
```

你可以参考本测试用例文档，补充到对应的测试文件中。

---

## 📈 覆盖率目标

| 类型 | 目标 | 检查命令 |
|-----|------|---------|
| 行覆盖率 | ≥ 85% | `npm run test:coverage` |
| 分支覆盖率 | ≥ 80% | `npm run test:coverage` |
| 函数覆盖率 | ≥ 90% | `npm run test:coverage` |
| P0 用例通过率 | 100% | 手工/自动检查 |

---

## 🐛 Bug 回归测试

当发现 Bug 时：

1. 在此文档中找到相关的测试用例
2. 如果缺失，补充对应的测试用例
3. 修复 Bug 后，确保对应的测试用例通过
4. 在检查清单中标记

---

## 🔄 更新记录

| 日期 | 版本 | 更新内容 |
|-----|------|---------|
| 2026-02-11 | v1.0 | 初始版本，覆盖所有核心功能模块 |
| 2026-02-12 | v1.1 | 新增规则增强功能测试用例：状态管理、规则复制、规则导出、增强条件编辑器 |
| 2026-02-12 | v1.2 | 新增潜在改进测试用例：条件模板、Excel导出、规则导入、版本对比、流程图等45个用例 |

---

*如有问题或需要补充，请更新对应的模块文件。*
